{"version":3,"file":"dist/ti-auth.min.js","sources":["build/ti-auth.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","TiAuth","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"Object","defineProperty","value","_interopRequireDefault","obj","__esModule","default","_authentication","_authentication2","host","request","method","url","success","error","xhr","XMLHttpRequest","open","onreadystatechange","handler","responseType","setRequestHeader","token","send","readyState","DONE","status","response","get","bind","undefined","./authentication",2,"_tiAuth","_tiAuth2","_location","_location2","AUTH_TOKEN","authorize","uri","parse","query","auth_token","replace","unauthorize","redirect","DASHBOARD_URL","../ti-auth","./location",3,"_urlParse","_urlParse2","location","href","destination","history","replaceState","url-parse",4,"_libAuthentication","_libAuthentication2","_libApi","_libApi2","retrieve_user","resolve","API_URL","validate_config","initialize","signout","./lib/api","./lib/authentication",5,"has","prototype","hasOwnProperty","querystring","parser","result","part","exec","decodeURIComponent","querystringify","prefix","pairs","key","push","encodeURIComponent","join","stringify",6,"required","lolcation","qs","relativere","instructions","NaN","URL","address","relative","test","instruction","index","type","indexOf","slice","toLowerCase","port","protocol","hostname","username","password","auth","split","toString","set","fn","pathname","charAt","hash","./lolcation","requires-port",7,"ignore","loc","finaldestination","unescape","./",8],"mappings":"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"}