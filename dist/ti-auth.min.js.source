{"version":3,"file":"dist/ti-auth.min.js","sources":["build/ti-auth.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","TiAuth","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"Object","defineProperty","value","_interopRequireDefault","obj","__esModule","default","_authentication","_authentication2","host","request","method","url","success","error","xhr","XMLHttpRequest","open","onreadystatechange","handler","responseType","setRequestHeader","token","send","readyState","DONE","status","response","get","bind","undefined","./authentication",2,"_location","_location2","AUTH_TOKEN","authorize","uri","parse","query","auth_token","replace","unauthorize","redirect","./location",3,"_urlParse","_urlParse2","location","href","destination","history","replaceState","url-parse",4,"_libAuthentication","_libAuthentication2","_libApi","_libApi2","initialize","resolve","./lib/api","./lib/authentication",5,"has","prototype","hasOwnProperty","querystring","parser","result","part","exec","decodeURIComponent","querystringify","prefix","pairs","key","push","encodeURIComponent","join","stringify",6,"required","lolcation","qs","relativere","instructions","NaN","URL","address","relative","test","instruction","index","type","indexOf","slice","toLowerCase","port","protocol","hostname","username","password","auth","split","toString","set","fn","pathname","charAt","hash","./lolcation","requires-port",7,"ignore","loc","finaldestination","unescape","./",8],"mappings":"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"}